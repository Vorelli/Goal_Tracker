!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/Goal_Tracker/",n(n.s=1)}([,function(t,e,n){"use strict";function a(t,e,n,a,i,o,s=[]){this.edit(t,e,n,a,i,o,s)}n.r(e),a.prototype.edit=function(t,e,n,a,i,o,s){return this.name=t,this.desc=e,this.dateS=n,this.dateExpected=a,this.dateC=i,this.completionStatus=o,this.subTasks=s,this},a.prototype._getAllSubTasksData=function(){let t=[];return this.subTasks.forEach(e=>{t.push(e.getData())}),t},a.prototype.getData=function(){return{name:this.name,desc:this.desc,dateS:this.dateS,dateExpected:this.dateExpected,dateC:this.dateC,completionStatus:this.completionStatus,subTasks:this._getAllSubTasksData()}},a.prototype.progress=function(){if((new Date).getTime()<new Date(this.dateS).getTime())return 0;let t=(new Date).getTime()-new Date(this.dateS).getTime(),e=new Date(this.dateExpected).getTime()-new Date(this.dateS).getTime();return this._withinTimeFrame()?t/e:1},a.prototype._withinTimeFrame=function(){return(new Date).getTime()<new Date(this.dateExpected).getTime()},a.prototype.onTrack=function(){let t=this.subTasks.length,e=Math.floor(this.progress()*t),n=0;return this.subTasks.forEach(t=>{t.getCompletionStatus()&&n++}),n>=e},a.prototype.toggleCompletion=function(){this.setCompletionStatus(!this.completionStatus)},a.prototype.setCompletionStatus=function(t){this.completionStatus=t,this.dateC=t?new Date:null,this.subTasks.forEach(e=>{e.completionStatus!=t&&(e.completionStatus=t,e.dateC=t?new Date:null)})},a.prototype.getCompletionStatus=function(){let t=!0;return this.subTasks.forEach(e=>{e.getCompletionStatus()||(t=!1)}),this.completionStatus||(t=!1),t},a.prototype.hasSubTasks=function(){return this.subTasks.length>0},a.prototype.level=function(){let t=1;return this.hasSubTasks()&&t++,this.subTasks.forEach(e=>{e.hasSubTasks()&&2==t&&t++}),this.subTasks.forEach(e=>{e.subTasks.forEach(e=>{e.hasSubTasks()&&3==t&&t++})}),t},a.prototype._subTaskExists=function(t){return this.subTasks.forEach(e=>{if(e.name==t)return!0}),!1},a.prototype.addSubTask=function(t){return!this._subTaskExists(t.name)&&(this.subTasks.push(t),!0)},a.prototype.findSubTask=function(t){for(let e=0;e<this.subTasks.length;e++)if(t==this.subTasks[e].name)return e;return-1},a.prototype.removeSubTask=function(t){let e=this.findSubTask(subTask);return e>=0?this.subTasks.splice(e,1):null};var i=a;function o(t){return document.querySelector(t)}function s(t){return document.querySelectorAll(t)}function r(t,e){return t.querySelector(e)}function l(t,e){return t.querySelectorAll(e)}var d=function(){let t={};return{addListener:function(e,n,a){t[n]={thisVar:e,listener:a}},removeListener:function(e,n){t[e]&&(t[e]=void 0)},trigger:function(e,...n){if(t[e])return t[e].listener.call(t[e].thisVar,n)}}}();var c=function(t){let e=new Date(t),n=e.getUTCDate();n=n>=10?n:"0"+n;let a=e.getUTCMonth()+1;a=a>=10?a:"0"+a;let i=e.getUTCFullYear();return i<10?i="000"+i:i<100?i="00"+i:i<1e3&&(i="0"+i),`${i}-${a}-${n}`};function u(){this.overlay=document.querySelector("body>#taskAdderOverlay")}u.prototype.setValues=function(t,e,n,a,o,s){let l=document.createElement("button");this.overlay.querySelector("button").parentNode.replaceChild(l,this.overlay.querySelector("button")),t||(t=new i("","","","","",!1)),t.name||""==t.name?(e=t.desc,n=isNaN(Date.parse(t.dateS))?"Not Set":c(t.dateS),a=isNaN(Date.parse(t.dateExpected))?"Not Set":c(t.dateExpected),o=isNaN(Date.parse(t.dateC))?"Not Set":c(t.dateC),s=t.completionStatus,t=t.name):(n=isNaN(Date.parse(n))?"Not Set":c(n),a=isNaN(Date.parse(a))?"Not Set":c(a),o=isNaN(Date.parse(o))?"Not Set":c(o)),r(this.overlay,"#name input").value=t,r(this.overlay,"#desc input").value=e,r(this.overlay,"#dateS input").value=n,r(this.overlay,"#dateC input").value=o,r(this.overlay,"#dateExpected input").value=a,r(this.overlay,"#completionStatus input").checked=s},u.prototype.toggleOverlay=function(){this.overlay.style.display="block"==this.overlay.style.display?"none":"block",d.trigger("center")},u.prototype.editButtonText=function(t){this.overlay.querySelector("button").textContent=t},u.prototype.editTask=function(t){this.setValues(t),this.editButtonText("Edit"),this.toggleOverlay(),this.overlay.querySelector("button").addEventListener("click",function(t){this.toggleOverlay(),d.trigger("submitEdit",t)}.bind(this,t))},u.prototype.addNewTaskOverlay=function(){this.setValues(),this.editButtonText("Add"),this.toggleOverlay(),this.overlay.querySelector("button").addEventListener("click",function(){this.toggleOverlay(),d.trigger("submitNewTask")}.bind(this))};var p=u;var h=function(t){return{center:function(){const e=window.innerWidth;t.forEach(t=>{document.querySelectorAll(t).forEach(t=>{const n=t.offsetWidth-50,a=(e-n)/2+"px";t.style.marginLeft=a,t.style.marginRight=a})})}}};function f(){let t=document.createElement("span");return t.classList.add("dot"),t}function v(){let t=f();return t.classList.add("filledDot"),t}var b=function(t){return document.createElement(t)};var g=function(){const t="<tr> <td class='name' valign='center'>Go Hard AFgsfadafasdfsadfsadf</td> <td class='dateStart'>10/20/2019</td> <td class='statusTD'> <div class='statusBar'></div> <div class='statusBarLine'></div> </td> <td class='dateComplete'></td> </tr>",e="<div class='noDisplay'><button id='addAmbition'>+</button></div><div class='simplifiedView'> <table> <col width='125px'> <col width='125px'> <col width='125px'> <col width='125px'> <tr> <td colspan=\"4\" class='lineH40' id='tableTitle'>Goals</td> </tr> <tr class='headers'> <td class='lineH40'><div>Name</div></td> <td class='lineH40'>Date Started</td> <td class='statusTD lineH40'>Status</td> <td class='lineH40'>Date Completed</td> </tr> </table> </div> ",n="<div class='ambitionViewer'> <div id='leftHalf'> <button>Back</button> <h1 class='name'>Ambition Name</h1> <div></div> <h4 class='desc'>Ambition Discription/Notes Section</h4> </div> <div id='rightHalf'> <div id='ambitionButtons'> <div class='ambitionButtons completeButton'>U</div> <div class='ambitionButtons editButton'>E</div> <div class='ambitionButtons deleteButton'>D</div> </div> <div class='statusBar ambitionStatus'> </div><div class='statusBarLine'></div> <div id='ambitionDates'> <div>Started:<br></div> <div class='dateStart ambitionDate'>09/25/2019</div> <div>Completed:<br></div> <div class='dateComplete ambitionDate'>10/12/2019</div><div style='font-size:8pt;'>Expected Completion:</div><div class='ambitionDate dateExpected'>10/20/2019</div> </div> </div> </div>",a="<div class='noDisplay'><button id='addAmbition'>+</button><button id='goBack'>←</div><div class='detailedView'><table><col width='80px'><col width='80px'><col width='100px'><col width='80px'><col width='80px'><col width='80px'><tr><td colspan=\"6\" class='lineH40' id='tableTitle'>Ambition Name</td></tr><tr class='headers'><td><div>Goals</div></td><td><div>Date Started</div></td><td class='statusTD'><div>Task Status</div></td><td><div>Expected Completion</div></td><td><div>Date Completed</div></td><td><div>Actions</div></td></tr></table></div",i="<tr><td class='lineH40 name'>Goal Mother Boyyo Name</td><td class='lineH40 dateStart'>10/30/2019</td><td class='statusTD'><div class='statusBar'></div><div class='statusBarLine'></div></td><td class='lineH40 dateExpected'>11/01/2019</td><td class='lineH40 dateComplete'>10/30/2019</td><td class='lineH40 goalButtons'><div class='goalButton completeButton'>U</div><div class='goalButton editButton'>E</div><div class='goalButton deleteButton'>X</div></td></tr>";let u,h=new p;const g=[{view:void 0,selector:"button",listener:m,thisVar:void 0},{view:void 0,selector:".statusBar",listener:w,thisVar:void 0},{view:void 0,selector:".statusBarLine",listener:w,thisVar:void 0},{view:void 0,selector:".editButton",listener:h.editTask,thisVar:h},{view:void 0,selector:".completeButton",listener:console.log,thisVar:void 0},{view:void 0,selector:".deleteButton",listener:function(t){d.trigger("deleteTask",t.name);let e=B(t);e.parentNode.removeChild(e)},thisVar:void 0}];function m(t){let e=B(t);e.parentNode.replaceChild(k(t),e)}function y(t){u=[];let n=new DocumentFragment;n.appendChild(document.createElement("body")).insertAdjacentHTML("afterbegin",e);let a=n.querySelector("tbody");for(let e=0;e<t.length;e++){let n=k(t[e]);a.appendChild(n)}let i=l(n,"body>div");for(let t=0;t<i.length;t++)o("#content").appendChild(i[t]);o("#addAmbition").addEventListener("click",h.addNewTaskOverlay.bind(h))}function k(e){let n=(new DocumentFragment).appendChild(b("body")).appendChild(b("table")).appendChild(b("tbody"));n.insertAdjacentHTML("beforeend",t);let a=L(n.querySelector("tr"),e);return a.addEventListener("click",T.bind(this,e,4)),a}function S(t,e){let a=new DocumentFragment;a.appendChild(b("body")).insertAdjacentHTML("beforeend",n);let i=r(a,"body>div");return L(i,t,e),i}function T(t,e=4){let n=x(t),a=document.createElement("td");a.colSpan=e,n.appendChild(a).appendChild(S(t,e))}function w(t){u.push(function(t){let e=t.querySelector("tbody"),n=e.querySelector("#tableTitle").textContent,a=e.querySelector("#tableTitle").colSpan,i={type:""};if(4==a){i.type="simplified",i.rows=[];let t=l(e,"tr");for(let e=2;e<t.length;e++)r(t[e],".dateExpected")?i.rows.push({task:O(t[e]),type:"block"}):i.rows.push({task:O(t[e]),type:"simplified"});return i}if(6==a)return i.type="table",i.task=A(n),i}(o("#content"))),C(t)}function C(t){let e=(new DocumentFragment).appendChild(b("body")).appendChild(b("div"));e.insertAdjacentHTML("beforeend",a);let n=e.querySelector("div.detailedView");n.querySelector("#tableTitle").textContent=t.name;for(let e=0;e<t.subTasks.length;e++)n.querySelector("tbody").appendChild(D(t.subTasks[e]));d.trigger("clearContent"),r(e,"#addAmbition").addEventListener("click",h.addNewTaskOverlay.bind(h)),r(e,"#goBack").addEventListener("click",_.bind(this)),l(e,"body>div>*").forEach(t=>{o("#content").appendChild(t)})}function D(t){let e=new DocumentFragment;e.appendChild(b("div")).appendChild(b("table")).appendChild(b("tbody")).insertAdjacentHTML("beforeEnd",i);let n=e.querySelector("tr:last-child");return L(n,t),n.addEventListener("click",(function(){let e=!1;event.path.forEach(t=>{t.classList&&t.classList.contains("statusTD")&&(e=!0)}),event.target.classList.contains("goalButton")||e||T(t,6)})),n}function E(t){let e=x(t);e.parentNode.replaceChild(D(t),e)}function x(t){let e=b("tr"),n=B(t);return n.parentNode.replaceChild(e,n),e}function L(t,e,n){N(t,".name",e.name?e.name:"Not Set"),N(t,".desc",e.desc?e.desc:"Not Set"),N(t,".dateExpected",isNaN(Date.parse(e.dateExpected))?"Not Set":c(e.dateExpected)),N(t,".dateStart",isNaN(Date.parse(e.dateS))?"Not Set":c(e.dateS)),N(t,".dateComplete",isNaN(Date.parse(e.dateC))?"Not Set":c(e.dateC)),N(t,".completeButton",e.completionStatus?"✓":"✘"),N(t,".statusBarLine",100*e.progress()+"px","style.width"),N(t,".statusBarLine",e.onTrack()?"#474747":"red","style.backgroundColor");for(let n=0;n<e.subTasks.length;n++)r(t,".statusBar").appendChild(e.subTasks[n].completionStatus?v():f());return g.forEach(a=>{let i=Boolean(".statusBar"==a.selector&&t.querySelector(".dateExpected")),o=Boolean(".statusBarLine"==a.selector&&t.querySelector(".dateExpected"));"button"==a.selector&&6==n?r(t,a.selector).addEventListener("click",E.bind(this,e)):t.querySelector(a.selector)&&(i||o||".statusBarLine"!=a.selector&&".statusBar"!=a.selector)&&r(t,a.selector).addEventListener("click",a.listener.bind(a.thisVar?a.thisVar:this,e))}),t}function N(t,e,n,a="textContent"){try{-1!=a.indexOf("style.")?r(t,e).style[a.substring(6)]=n:r(t,e)[a]=n}catch(t){}}function B(t){for(let e=0;e<o("tbody").children.length;e++){let n=o("tbody").children.item(e);if(n.querySelector(".name")&&n.querySelector(".name").textContent==t.name)return n}return-1}function O(t){return A(r(t,".name").textContent)}function A(t){let e;return u.length>0&&(e=u[u.length-1]),function(t,e){let n,a=[];if(t)switch(t.type){case"simplified":o("#tableTitle");t.rows.forEach(t=>{a.push(t.task)});break;case"table":a.push(...t.task.subTasks)}else a=d.trigger("getTasks");return a.forEach(t=>{t.name==e&&(n=t)}),n}(e,t)}function V(){return{name:o("#taskAdderOverlay #name input").value,desc:o("#taskAdderOverlay #desc input").value,dateS:o("#taskAdderOverlay #dateS input").value,dateC:o("#taskAdderOverlay #dateC input").value,dateExpected:o("#taskAdderOverlay #dateExpected input").value,completionStatus:o("#taskAdderOverlay #completionStatus input").checked}}function q(t){let e=new DocumentFragment;e.appendChild(o("tbody")),e.querySelector("tbody").appendChild(t),o("table").appendChild(e.querySelector("tbody"))}function _(){let t=u.splice(u.length-1,1)[0];switch(t.type){case"simplified":d.trigger("clearContent"),y(d.trigger("getTasks"));let e=s("#content tbody tr");for(let n=2;n<e.length;n++){let e=t.rows[n-2];"block"==e.type&&T(e.task)}break;case"table":C(t.task)}}return h.overlay.addEventListener("click",t=>{t.target==document.querySelector("div#taskAdderOverlay")&&h.toggleOverlay()}),d.addListener(this,"submitNewTask",(function(){let t=V(),e=6==o("#content #tableTitle").colSpan?A(o("#content #tableTitle").textContent):null;if(e){q(D(d.trigger("addSubtask",e,t.name,t.desc,t.dateS,t.dateC,t.dateExpected,t.completionStatus)))}else{q(k(d.trigger("addTask",t.name,t.desc,t.dateS,t.dateC,t.dateExpected,t.completionStatus)))}})),d.addListener(this,"submitEdit",(function(t){let e=t[0],n=B(e),a=V();d.trigger("editTask",e,a.name,a.desc,a.dateS,a.dateC,a.dateExpected,a.completionStatus,e.subTasks),function(t,e){let n=void 0;null!=t.querySelector("button")&&null!=t.querySelector("button")||(n=m);n=6==t.parentNode.children[0].colSpan?D:T;n(e)}(n,e)})),{generateSimplifiedView:y}};const m=function(){this.sidebarOff=!1,this.defaultTopbarLeftMargin=75,this.center=new h(["#content","#taskAdderOverlay>div"]),this.viewGenerator=new g,this.addListeners(),this.content=o("#content"),this.toggleSidebarSettings=[{option:"#hamburgerIcon img",value:"src",offValue:"menuClose.png",onValue:"menuOpen.png"},{option:"#sidebar",value:"width",offValue:"250px",onValue:"60px"},{option:"#ambitionTableIcon a",value:"textContent",offValue:"Ambitions",onValue:"A"},{option:"#habitTrackerIcon a",value:"textContent",offValue:"Habits",onValue:"H"},{option:"#dailyScheduleIcon a",value:"textContent",offValue:"Schedule",onValue:"S"},{option:"#topbar div",value:"marginLeft",offValue:this.defaultTopbarLeftMargin+190+"px",onValue:this.defaultTopbarLeftMargin+"px"}]};m.prototype.addListeners=function(){d.addListener(this,"clearContent",this._clearContent),d.addListener(this,"toggleSidebar",this._toggleSidebar),d.addListener(this,"loadAmbitionTable",this._loadAmbitionTable),d.addListener(this,"center",this.center.center)},m.prototype._toggleSidebar=function(){(this.sidebarOff=!this.sidebarOff)?(s("#sidebar div").forEach(t=>{t.style.width="250px"}),this.toggleSidebarSettings.forEach(t=>{o(t.option)[t.value]?o(t.option)[t.value]=t.offValue:o(t.option).style[t.value]=t.offValue})):(this.toggleSidebarSettings.forEach(t=>{o(t.option)[t.value]?o(t.option)[t.value]=t.onValue:o(t.option).style[t.value]=t.onValue}),s("#sidebar div").forEach(t=>{t.style.width="60px"}))},m.prototype._loadAmbitionTable=function(){this._clearContent(),this.viewGenerator.generateSimplifiedView(d.trigger("getTasks")),this.center.center()},m.prototype._clearContent=function(){this.content.innerHTML=""};var y=m;function k(t){new y;console.log("here");new p;o("#sidebar #hamburgerIcon").addEventListener("click",t.trigger.bind(this,"toggleSidebar")),o("#ambitionTableIcon").addEventListener("click",this.loadAmbitionTable),o("#topbar div").style.marginLeft="75px",o("#sidebar #habitTrackerIcon").addEventListener("click",d.trigger.bind(this,"test","dafas"))}k.prototype.loadAmbitionTable=function(){console.log("here"),d.trigger("loadAmbitionTable"),console.log(d.listeners)};var S=k;var T=function(){let t=window.localStorage;return{save:function(e,n){t.setItem(e,n)},load:function(e){return t.getItem(e)}}}();function w(){this.tasks=[],console.log(this),this.load(),d.addListener(void 0,"save",this.save),d.addListener(void 0,"load",this.load)}w.prototype._makeTask=function(t){let e=[];return t.subTasks.forEach(t=>e.push(this._makeTask(t))),new i(t.name,t.desc,t.dateS,t.dateExpected,t.dateC,t.completionStatus,e)},w.prototype._parseJSON=function(t){let e=[];if(null!=t){let n=JSON.parse(t);console.log(t),n.tasks.forEach(t=>{e.push(this._makeTask(t))})}return e},w.prototype.load=function(){let t=T.load("tasks"),e=this._parseJSON(t);e.length>0&&(this.tasks=e)},w.prototype._generateJSON=function(t){let e={tasks:[]};return t.forEach(t=>{e.tasks.push(t.getData())}),JSON.stringify(e)},w.prototype.save=function(){T.save("tasks",this._generateJSON(this.tasks))},w.prototype.addTask=function(t){this.tasks.push(t)},w.prototype.findTask=function(t){for(let e=0;e<this.tasks.length;e++)if(this.tasks[e].name==t)return e;return-1},w.prototype.getTask=function(t){if(t>=0)return this.tasks[t]},w.prototype.removeTask=function(t){return-1!=this.findTask(t)?this.tasks.splice(this.findTask(t),1):null},w.prototype.getTasks=function(){return this.tasks};var C=w;!function(){let t=new C;function e(){return t.getTasks()}function n([e,n,a,o,s,r,l=[]]){return t.addTask(new i(e,n,a,o,s,r,l)),t.save(),t.getTask(t.findTask(e))}function a([e,n,a,o,s,r,l,d=[]]){return e.addSubTask(new i(n,a,o,s,r,l,d)),t.save(),e.subTasks[e.findSubTask(n)]}function o(e){t.removeTask(e),t.save()}function s([e,n,a,i,o,s,r,l=[]]){let d=e.edit(n,a,i,s,o,r,l);return t.save(),d}function r(e){return e=e[0],t.getTask(t.findTask(e))}!function(){d.addListener(void 0,"addTask",n),d.addListener(void 0,"addSubtask",a),d.addListener(void 0,"deleteTask",o),d.addListener(void 0,"editTask",s),d.addListener(this,"getTasks",e),d.addListener(this,"getTask",r)}()}();new S(d);let D=new i("Reach Gold in Mythic League on Faceit","a",new Date(2019,11,20),new Date(2020,0,1),void 0,!1);console.log(D.getData()),console.log(JSON.stringify(D.getData())),console.log(D.onTrack()),D.toggleCompletion(),console.log(D.onTrack()),console.log(D.progress()),console.log(D.level()),D.addSubTask(new i("hello","benis",new Date,new Date(2020,1,3))),console.log(D),console.log(D.getData()),console.log(D.level());let E=new i("Reach Gold in Mythic League on Faceit","a",new Date(2019,11,20),new Date(2020,0,1),null,!1);E.addSubTask(new i("Reach lvl 8 on Faceit","",new Date(2019,11,20),new Date(2020,0,15),null,!1,[new i("Reach lvl 6 on Faceit",new Date(2019,11,20),new Date(2020,0,15),null,!1),new i("Reach lvl 7 on Faceit",new Date(2019,11,20),new Date(2020,0,15),null,!1)]));let x=new i("Go Pro in CS:GO","",new Date(2019,6,4),null,new Date(2020,5,4),!1,[E]);new i("Go Pro in LoL","",new Date(2019,6,4),null,new Date(2020,5,4),!1,[new i("","",new Date,new Date,new Date,!0)]);console.log(x),console.log(x.level()),window.onresize=d.trigger.bind(void 0,"center")}]);